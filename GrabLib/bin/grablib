#!/usr/bin/python
import sys
try:
    import GrabLib
except ImportError:
    print('Problem importing GrabLib, make sure it is installed and in the Python Path')
    sys.exit() 
    
import argparse

parser = argparse.ArgumentParser(description="""GrabLib

Utility for defining and downloading your projects external library files eg. Javascript, CSS.
GrabLib Version: %s
(https://github.com/samuelcolvin/GrabLib).
All optional arguments can also be set in the definition file.

""" % GrabLib.__version__, formatter_class=argparse.RawTextHelpFormatter)

parser.add_argument('-p', '--libs_root', action='store',
    help='Download path root, omit to use value from definition file.')

parser.add_argument('-w', '--overwrite', action='store', 
    help = 'Overwrite existing files, default is not to download a library if the file already exists')

parser.add_argument('-p', '--file_permissions', action='store', 
    help = 'Explicitly set file permission for each file downloaded, eg. 666')

parser.add_argument('-v', '--verbosity', action='store',
    help = 'Verbosity Level 0 (nothing except errors), 1 (less), 2 (default), 3 (everything)')

parser.add_argument('def_path', metavar='json_or_python_path',
    help='path to JSON or Python File defining libs')
    
args = parser.parse_args()
GrabLib.process_args(args)